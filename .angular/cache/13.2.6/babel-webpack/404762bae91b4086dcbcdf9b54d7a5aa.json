{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { Pokemon } from 'src/app/models/pokemon';\nimport { MsgAlertComponent } from '../msg-alert/msg-alert.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/pokemon.service\";\nimport * as i2 from \"@angular/material/snack-bar\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../poke-card/poke-card.component\";\n\nfunction PokemonListComponent_app_poke_card_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"app-poke-card\", 2);\n    i0.ɵɵlistener(\"pokemonClicked\", function PokemonListComponent_app_poke_card_1_Template_app_poke_card_pokemonClicked_0_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return ctx_r3.pokemonClicked($event);\n    });\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const pokemon_r1 = ctx.$implicit;\n    const indice_r2 = ctx.index;\n    i0.ɵɵproperty(\"pokemon\", pokemon_r1)(\"indice\", indice_r2 + 1);\n  }\n}\n\nexport let PokemonListComponent = /*#__PURE__*/(() => {\n  class PokemonListComponent {\n    constructor(pokemonService, _snackBar) {\n      this.pokemonService = pokemonService;\n      this._snackBar = _snackBar;\n      this.durationInSeconds = 5;\n      this.pokemons = [];\n      this.pokemonsSelected = [];\n      this.pokemonsSelectedEmit = new EventEmitter();\n    }\n\n    ngOnDestroy() {}\n\n    ngOnInit() {\n      this.pokemonService.getPokemons().subscribe(result => {\n        //this.pokemons = result.results;\n        //console.log(result.results);\n        result.results.forEach(element => {\n          this.pokemonService.getPokemonDetails(element.url).subscribe(pokemon => {\n            let p = new Pokemon(pokemon, false);\n            this.pokemons.push(p);\n          });\n        });\n      });\n    }\n\n    openSnackBar() {\n      this._snackBar.openFromComponent(MsgAlertComponent, {\n        duration: this.durationInSeconds * 1000\n      });\n    }\n\n    pokemonClicked(event) {\n      if (event.selected) {\n        if (this.pokemonsSelected.length < 3) {\n          this.pokemonsSelected.push(event);\n        } else {\n          event.selected = false;\n          this.openSnackBar();\n        }\n      } else {\n        const index = this.pokemonsSelected.indexOf(event, 0);\n\n        if (index > -1) {\n          this.pokemonsSelected.splice(index, 1);\n        }\n      }\n\n      this.pokemonsSelectedEmit.emit(this.pokemonsSelected);\n    }\n\n  }\n\n  PokemonListComponent.ɵfac = function PokemonListComponent_Factory(t) {\n    return new (t || PokemonListComponent)(i0.ɵɵdirectiveInject(i1.PokemonService), i0.ɵɵdirectiveInject(i2.MatSnackBar));\n  };\n\n  PokemonListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: PokemonListComponent,\n    selectors: [[\"app-pokemon-list\"]],\n    outputs: {\n      pokemonsSelectedEmit: \"pokemonsSelectedEmit\"\n    },\n    decls: 2,\n    vars: 1,\n    consts: [[2, \"display\", \"flex\", \"justify-content\", \"space-evenly\", \"align-content\", \"flex-start\", \"gap\", \"50px 10px\", \"flex-wrap\", \"wrap\", \"max-width\", \"500px\"], [3, \"pokemon\", \"indice\", \"pokemonClicked\", 4, \"ngFor\", \"ngForOf\"], [3, \"pokemon\", \"indice\", \"pokemonClicked\"]],\n    template: function PokemonListComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵtemplate(1, PokemonListComponent_app_poke_card_1_Template, 1, 2, \"app-poke-card\", 1);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.pokemons);\n      }\n    },\n    directives: [i3.NgForOf, i4.PokeCardComponent],\n    styles: [\"\"]\n  });\n  return PokemonListComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}